<div class="container py-5" *ngIf="product$ | async as product">
  <div class="row g-5 align-items-center">
    <!-- Product Images -->
    <div class="col-md-6 text-center">
      <!-- Main Image -->
      <img
        [src]="selectedImage || product.images[0]"
        class="img-fluid rounded-4 shadow-sm mb-4 main-image"
        [alt]="product.title"
      />

      <!-- Thumbnails -->
      <div class="d-flex justify-content-center gap-2 flex-wrap">
        <img
          *ngFor="let img of product.images"
          [src]="img"
          (click)="selectedImage = img"
          class="thumbnail-img rounded shadow-sm"
          [class.active-thumb]="selectedImage === img"
          [alt]="product.title"
        />
      </div>
    </div>

    <!-- Product Details -->
    <div class="col-md-6">
      <h2 class="fw-bold">{{ product.title }}</h2>
      <p class="text-muted">{{ product.description }}</p>
      <h4 class="text-success mb-3">{{ product.price | currency: 'USD' }}</h4>

      <div class="d-flex align-items-center gap-3 mb-4">
        <label for="qty" class="fw-semibold">Quantity:</label>
        <input
          type="number"
          id="qty"
          class="form-control w-25"
          [(ngModel)]="quantity"
          min="1"
        />
      </div>

      <div class="d-flex align-items-center gap-2">
        <button class="btn btn-primary px-4" (click)="addToCart(product)">
          <i class="bi bi-cart-plus"></i> Add to Cart
        </button>

        <button class="btn btn-secondary" (click)="continueShopping()">
          <i class="bi bi-arrow-left"></i> Continue Shopping
        </button>
      </div>
    </div>
  </div>
</div>
